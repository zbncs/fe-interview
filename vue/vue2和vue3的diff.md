# vue2.x 和 vuex3.x 渲染器的 diff 算法分别说一下？

同时从新旧children的两端开始进行比较，借助key值找到可复用的节点，再进行相关操作。相比React(反应)的 Diff 算法，同样情况下可以减少移动节点次数，减少不必要的性能损耗，更加的优雅。

vue2中的虚拟dom是进行全量的对比，在运行时会对所有节点生成一个虚拟节点树，当页面数据发生变更好，会遍历判断虚拟dom所有节点（包括一些不会变化的节点）有没有发生变化；

vue3在diff算法中相比vue2增加了静态标记, 在模版编译时，编译器会在动态标签末尾加上 /* Text*/ PatchFlag。也就是在生成VNode的时候，同时打上标记，patch(补丁)过程中就会判断这个标记来 Diff 优化流程，跳过一些静态节点对比；

